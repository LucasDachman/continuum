{"ast":null,"code":"import _defineProperty from \"/Users/lucas/fall-2019/capstone/continuum-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport io from 'socket.io-client';\nexport const createEmitter = () => {\n  const socket = io('http://localhost:4000');\n  return [store => next => action => {\n    if (!action.origin) {\n      socket.emit('action', _objectSpread({}, action, {\n        origin: socket.id\n      }));\n    }\n\n    return next(action);\n  }, store => {\n    socket.on('action', action => {\n      if (action.origin !== socket.id) {\n        store.dispatch(action);\n      }\n    });\n  }];\n};","map":{"version":3,"sources":["/Users/lucas/fall-2019/capstone/continuum-app/client/src/socket/socketEmitter.js"],"names":["io","createEmitter","socket","store","next","action","origin","emit","id","on","dispatch"],"mappings":";;;;;;AAAA,OAAOA,EAAP,MAAe,kBAAf;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;AAEjC,QAAMC,MAAM,GAAGF,EAAE,CAAC,uBAAD,CAAjB;AAEA,SAAO,CACLG,KAAK,IAAIC,IAAI,IAAIC,MAAM,IAAI;AACzB,QAAI,CAACA,MAAM,CAACC,MAAZ,EAAoB;AAClBJ,MAAAA,MAAM,CAACK,IAAP,CAAY,QAAZ,oBAA2BF,MAA3B;AAAmCC,QAAAA,MAAM,EAAEJ,MAAM,CAACM;AAAlD;AACD;;AACD,WAAOJ,IAAI,CAACC,MAAD,CAAX;AACD,GANI,EAOLF,KAAK,IAAI;AACPD,IAAAA,MAAM,CAACO,EAAP,CAAU,QAAV,EAAoBJ,MAAM,IAAI;AAC5B,UAAIA,MAAM,CAACC,MAAP,KAAkBJ,MAAM,CAACM,EAA7B,EAAiC;AAC/BL,QAAAA,KAAK,CAACO,QAAN,CAAeL,MAAf;AACD;AACF,KAJD;AAKD,GAbI,CAAP;AAcD,CAlBM","sourcesContent":["import io from 'socket.io-client';\n\nexport const createEmitter = () => {\n\n  const socket = io('http://localhost:4000');\n\n  return [\n    store => next => action => {\n      if (!action.origin) {\n        socket.emit('action', { ...action, origin: socket.id });\n      }\n      return next(action);\n    },\n    store => {\n      socket.on('action', action => {\n        if (action.origin !== socket.id) {\n          store.dispatch(action);\n        }\n      });\n    }]\n}\n"]},"metadata":{},"sourceType":"module"}